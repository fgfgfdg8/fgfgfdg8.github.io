---
title: ã€æŠ€æœ¯å¤‡å¿˜å½•ã€‘ç¨‹åºè°ƒè¯•ç¯å¢ƒé…ç½®ä¸ä½¿ç”¨
date: 2025-08-19 19:00:00 +0800
description: åœ¨è¿™é‡Œå½’æ¡£è®°å½•æˆ‘çš„ç¨‹åºè°ƒè¯•ç¯å¢ƒé…ç½®åŠå¸¸ç”¨çš„è°ƒè¯•æ“ä½œæ–¹æ³•ï¼Œä»¥æ–¹ä¾¿æ—¥åæŸ¥é˜…ä½¿ç”¨ã€‚
categories: [Technical, Memorandum]
tags: [memorandum, coding]     # TAG names should always be lowercase
toc: true
# comments: true
pin: false
math: true
mermaid: true
# media_subpath: /assets
published: true
sitemap: false
image:
    path: assets/img/covers/mariposa_grove.png
    alt: æ™¨å…‰ä¸­çš„æ£®æ—ã€‚
---

## é€šç”¨è°ƒè¯•å·¥å…·

1. `scc`ï¼šå±•ç¤ºä»£ç ä»“åº“ä¸­å„ç§ä»£ç æˆåˆ†çš„ç»„æˆæƒ…å†µã€‚  
[GitHubä»“åº“åœ°å€](https://github.com/boyter/scc)
- å®‰è£…
```bash
sudo snap install scc
```
- ç”¨æ³•
        
```text
Sloc, Cloc and Code. Count lines of code in a directory with complexity estimation.
Version 3.5.0 (beta)
Ben Boyter <ben@boyter.org> + Contributors

Usage:
scc [flags] [files or directories]

Flags:
    --avg-wage int                       average wage value used for basic COCOMO calculation (default 56286)
    --binary                             disable binary file detection
    --by-file                            display output for every file
-m, --character                          calculate max and mean characters per line
    --ci                                 enable CI output settings where stdout is ASCII
    --cocomo-project-type string         change COCOMO model type [organic, semi-detached, embedded, "custom,1,1,1,1"] (default "organic")
    --count-as string                    count extension as language [e.g. jsp:htm,chead:"C Header" maps extension jsp to html and chead to C Header]
    --count-ignore                       set to allow .gitignore and .ignore files to be counted
    --currency-symbol string             set currency symbol (default "$")
    --debug                              enable debug output
    --directory-walker-job-workers int   controls the maximum number of workers which will walk the directory tree (default 8)
-a, --dryness                            calculate the DRYness of the project (implies --uloc)
    --eaf float                          the effort adjustment factor derived from the cost drivers (1.0 if rated nominal) (default 1)
    --exclude-dir strings                directories to exclude (default [.git,.hg,.svn])
-x, --exclude-ext strings                ignore file extensions (overrides include-ext) [comma separated list: e.g. go,java,js]
-n, --exclude-file strings               ignore files with matching names (default [package-lock.json,Cargo.lock,yarn.lock,pubspec.lock,Podfile.lock,pnpm-lock.yaml])
    --file-gc-count int                  number of files to parse before turning the GC on (default 10000)
    --file-list-queue-size int           the size of the queue of files found and ready to be read into memory (default 8)
    --file-process-job-workers int       number of goroutine workers that process files collecting stats (default 8)
    --file-summary-job-queue-size int    the size of the queue used to hold processed file statistics before formatting (default 8)
-f, --format string                      set output format [tabular, wide, json, json2, csv, csv-stream, cloc-yaml, html, html-table, sql, sql-insert, openmetrics] (default "tabular")
    --format-multi string                have multiple format output overriding --format [e.g. tabular:stdout,csv:file.csv,json:file.json]
    --gen                                identify generated files
    --generated-markers strings          string markers in head of generated files (default [do not edit,<auto-generated />])
-h, --help                               help for scc
-i, --include-ext strings                limit to file extensions [comma separated list: e.g. go,java,js]
    --include-symlinks                   if set will count symlink files
-l, --languages                          print supported languages and extensions
    --large-byte-count int               number of bytes a file can contain before being removed from output (default 1000000)
    --large-line-count int               number of lines a file can contain before being removed from output (default 40000)
    --min                                identify minified files
-z, --min-gen                            identify minified or generated files
    --min-gen-line-length int            number of bytes per average line for file to be considered minified or generated (default 255)
    --no-cocomo                          remove COCOMO calculation output
-c, --no-complexity                      skip calculation of code complexity
-d, --no-duplicates                      remove duplicate files from stats and output
    --no-gen                             ignore generated files in output (implies --gen)
    --no-gitignore                       disables .gitignore file logic
    --no-gitmodule                       disables .gitmodules file logic
    --no-hborder                         remove horizontal borders between sections
    --no-ignore                          disables .ignore file logic
    --no-large                           ignore files over certain byte and line size set by large-line-count and large-byte-count
    --no-min                             ignore minified files in output (implies --min)
    --no-min-gen                         ignore minified or generated files in output (implies --min-gen)
    --no-scc-ignore                      disables .sccignore file logic
    --no-size                            remove size calculation output
-M, --not-match stringArray              ignore files and directories matching regular expression
-o, --output string                      output filename (default stdout)
    --overhead float                     set the overhead multiplier for corporate overhead (facilities, equipment, accounting, etc.) (default 2.4)
-p, --percent                            include percentage values in output
    --remap-all string                   inspect every file and remap by checking for a string and remapping the language [e.g. "-*- C++ -*-":"C Header"]
    --remap-unknown string               inspect files of unknown type and remap by checking for a string and remapping the language [e.g. "-*- C++ -*-":"C Header"]
    --size-unit string                   set size unit [si, binary, mixed, xkcd-kb, xkcd-kelly, xkcd-imaginary, xkcd-intel, xkcd-drive, xkcd-bakers] (default "si")
    --sloccount-format                   print a more SLOCCount like COCOMO calculation
-s, --sort string                        column to sort by [files, name, lines, blanks, code, comments, complexity] (default "files")
    --sql-project string                 use supplied name as the project identifier for the current run. Only valid with the --format sql or sql-insert option
-t, --trace                              enable trace output (not recommended when processing multiple files)
-u, --uloc                               calculate the number of unique lines of code (ULOC) for the project
-v, --verbose                            verbose output
    --version                            version for scc
-w, --wide                               wider output with additional statistics (implies --complexity)
```

---

## C/C++

### VSCode è°ƒè¯•é…ç½®

#### å¸¦è¾“å…¥å‚æ•°çš„LLDBé…ç½®
åœ¨fuzzer crash root causeè¿‡ç¨‹ä¸­æä¸ºæœ‰ç”¨ï¼Œå°†ä»¥ä¸‹å†…å®¹ç²˜è´´åˆ°VSCodeå·¥ä½œåŒºçš„`.vscode/launch.json`ä¸­ï¼Œç„¶åæ ¹æ®éœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œå³å¯åœ¨å·¦ä¾§è¾¹æ `è¿è¡Œå’Œè°ƒè¯•(Ctri+Shift+D)`ä¸Šæ–¹çš„ä¸‹æ‹‰èœå•ä¸­çœ‹åˆ°`LLDB: Launch fuzzer with crash file`è¿™ä¸€é¡¹ã€‚
```json
{
    // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ 
    // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚
    // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "LLDB: Launch fuzzer with argements",
            "type": "lldb",
            "request": "launch",
            "program": "${fileDirname}/fuzzer", // ä¿®æ”¹è¿™ä¸€é¡¹ä»¥ä¿®æ”¹è¦è°ƒè¯•çš„fuzzerå¯æ‰§è¡Œæ–‡ä»¶
            "args": [
                "${input:args}"
            ],
            "cwd": "${fileDirname}",
            "stopOnEntry": false,
            "terminal": "integrated",
            "env": {
                "ASAN_OPTIONS": "abort_on_error=1:detect_leaks=0",
                "UBSAN_OPTIONS": "print_stacktrace=1"
            },
            // å°†æ„å»ºæ—¶æºè·¯å¾„ï¼ˆæ¥è‡ª DWARFï¼‰æ˜ å°„åˆ°å®é™…å·¥ä½œåŒº/æºä½ç½®ï¼Œæ³¨æ„ä¸€å®šè¦å…ˆå†™æ·±çš„è·¯å¾„å†å†™æµ…çš„è·¯å¾„ï¼
            // è¿™æ˜¯åœ¨åº“æºç ä½¿ç”¨-gé€‰é¡¹ç¼–è¯‘æ—¶ä¼šä½¿å¾—DWARFè°ƒè¯•ä¿¡æ¯å¸¦æœ‰ç»å¯¹è·¯å¾„ï¼Œåœ¨å…¶ä»–ç›®å½•ä¸‹è¿›è¡Œè°ƒè¯•çš„æ—¶å€™å°±è¦åšå¥½æºç ä½ç½®æ˜ å°„
            // æ³¨æ„ï¼Œå¦‚æœç¼–è¯‘çš„æ—¶å€™å¸¦ä¸Šäº†-gline-tables-onlyé€‰é¡¹ï¼Œåˆ™å…¶ä¼šè¦†ç›–-gé€‰é¡¹ï¼ŒDAWRFä¿¡æ¯ä¸ä¼šå¸¦æœ‰æºç ç»å¯¹è·¯å¾„ä¿¡æ¯ï¼
            "sourceMap": {
                "/FuzzAgent/output/libvpx/harnesses": "${fileDirname}",
                "/FuzzAgent/output/libvpx": "/FuzzAgent/working_dir/crash_analysis/libvpx"
            }
        },
        {
            "name": "LLDB: Launch poc with argements",
            "type": "lldb",
            "request": "launch",
            "program": "${fileDirname}/poc", // ä¿®æ”¹è¿™ä¸€é¡¹ä»¥ä¿®æ”¹è¦è°ƒè¯•çš„pocå¯æ‰§è¡Œæ–‡ä»¶
            "args": [
                "${input:args}"
            ],
            "cwd": "${fileDirname}",
            "stopOnEntry": false,
            "terminal": "integrated",
            "env": {
                "ASAN_OPTIONS": "abort_on_error=1:detect_leaks=0",
                "UBSAN_OPTIONS": "print_stacktrace=1"
            },
        }
    ],
    "inputs": [
        {
            "id": "args",
            "type": "promptString",
            "description": "è¯·è¾“å…¥ä¼ é€’ç»™å¯æ‰§è¡Œæ–‡ä»¶çš„å‚æ•°åˆ—è¡¨ï¼Œä»¥ç©ºæ ¼åˆ†éš”",
            "default": ""
        }
    ]
}
```

#### LLDBçš„å‘½ä»¤ä½¿ç”¨ï¼ˆç”±ChatGPT 5æ€»ç»“ï¼‰

ğŸ› LLDB Cheat Sheet for Fuzzing Crash Analysis

- å¯åŠ¨ & åŸºç¡€æ§åˆ¶

|        å‘½ä»¤         |        è¯´æ˜         |
| :-----------------: | :-----------------: |
|   `lldb ./binary`   | å¯åŠ¨ lldbï¼ŒåŠ è½½ç¨‹åº |
|     `run args`      | è¿è¡Œç¨‹åºï¼ˆå¸¦å‚æ•°ï¼‰  |
| `process launch -s` |    å•æ­¥å¯åŠ¨ç¨‹åº     |
|         `c`         | continueï¼Œç»§ç»­è¿è¡Œ  |
|         `n`         |  nextï¼Œå•æ­¥è¿‡å‡½æ•°   |
|         `s`         |  stepï¼Œå•æ­¥è¿›å‡½æ•°   |
|      `finish`       |  è·‘åˆ°å½“å‰å‡½æ•°è¿”å›   |
|       `quit`        |      é€€å‡º lldb      |

- æ ˆ & æºç å®šä½

|              å‘½ä»¤               |            è¯´æ˜             |
| :-----------------------------: | :-------------------------: |
|              `bt`               |         æ‰“å°è°ƒç”¨æ ˆ          |
|            `bt all`             |      æ‰“å°æ‰€æœ‰çº¿ç¨‹çš„æ ˆ       |
|        `frame info line`        |       å½“å‰å¸§æºç ä½ç½®        |
|        `frame variable`         |    æ‰“å°å½“å‰å¸§çš„æ‰€æœ‰å˜é‡     |
|      `frame variable var`       |        æ‰“å°æŒ‡å®šå˜é‡         |
|       `source list -c 20`       |  æ˜¾ç¤ºå½“å‰è¡Œä¸Šä¸‹ 20 è¡Œæºç    |
| `image lookup --address 0xADDR` | ç¬¦å·åŒ–åœ°å€ï¼Œå®šä½å‡½æ•°/æºç è¡Œ |

- æ–­ç‚¹ & è¿è¡Œæ§åˆ¶

|                      å‘½ä»¤                       |        è¯´æ˜         |
| :---------------------------------------------: | :-----------------: |
|                  `b func_name`                  | åœ¨å‡½æ•°å…¥å£è®¾ç½®æ–­ç‚¹  |
|                 `b file.c:123`                  | åœ¨æ–‡ä»¶ç¬¬ 123 è¡Œæ–­ç‚¹ |
|                `breakpoint list`                |    æŸ¥çœ‹æ‰€æœ‰æ–­ç‚¹     |
|              `breakpoint delete 1`              |  åˆ é™¤æ–­ç‚¹ï¼ˆæŒ‰ IDï¼‰  |
| `breakpoint set --name func --condition "x<10"` |      æ¡ä»¶æ–­ç‚¹       |

- å†…å­˜ & å˜é‡æ£€æŸ¥

|                   å‘½ä»¤                   |             è¯´æ˜              |
| :--------------------------------------: | :---------------------------: |
|                 `p var`                  |           æ‰“å°å˜é‡            |
|           `p (int)ptr->field`            |         å¼ºåˆ¶ç±»å‹æ‰“å°          |
|             `expr var = 123`             |          ä¿®æ”¹å˜é‡å€¼           |
|               `x/32xb buf`               | ä»¥å­—èŠ‚å½¢å¼ dump å†…å­˜ (32å­—èŠ‚) |
| `memory read --size 1 --count 64 0xADDR` |       ä»åœ°å€è¯» 64 å­—èŠ‚        |

- ä¿¡å· & å¼‚å¸¸

|                       å‘½ä»¤                        |           è¯´æ˜            |
| :-----------------------------------------------: | :-----------------------: |
| `process handle SIGABRT -s true -n false -p true` | æ•è· SIGABRT (ASan abort) |
| `process handle SIGSEGV -s true -n false -p true` |       æ•è· SIGSEGV        |

- é«˜çº§è°ƒè¯•

|                          å‘½ä»¤                           |           è¯´æ˜           |
| :-----------------------------------------------------: | :----------------------: |
|              `watchpoint set variable var`              |      ç›‘è§†å˜é‡è¢«ä¿®æ”¹      |
|  `watchpoint set expression -w write -s 4 &buffer[0]`   |       ç›‘è§†å†…å­˜å†™å…¥       |
|                      `thread list`                      |         æ˜¾ç¤ºçº¿ç¨‹         |
|                    `thread select 3`                    |       åˆ‡æ¢åˆ°çº¿ç¨‹ 3       |
|                          `bt`                           |      æŸ¥çœ‹å½“å‰çº¿ç¨‹æ ˆ      |
|                        `bt all`                         |      æŸ¥çœ‹æ‰€æœ‰çº¿ç¨‹æ ˆ      |
| `settings set target.inline-breakpoint-strategy always` | åœ¨ inline å‡½æ•°å†…å…è®¸æ–­ç‚¹ |

- è„šæœ¬åŒ–ï¼ˆPythonï¼‰

|                          å‘½ä»¤                          |       è¯´æ˜       |
| :----------------------------------------------------: | :--------------: |
|          `command script import myscript.py`           | å¯¼å…¥ Python è„šæœ¬ |
|                 `command script list`                  | æŸ¥çœ‹å·²æ³¨å†Œçš„å‘½ä»¤ |
| `command script add -f myscript.dump_input dump_input` |  æ·»åŠ è‡ªå®šä¹‰å‘½ä»¤  |

